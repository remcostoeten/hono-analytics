---
title: Vanilla JavaScript
description: HONO Analytics SDK for vanilla JavaScript applications
---

# Vanilla JavaScript Integration

The HONO Analytics SDK can be used in any JavaScript application, regardless of framework. This guide covers integration with vanilla JavaScript, Vue.js, Svelte, and other non-React frameworks.

## Installation

Install the SDK using your preferred package manager:

```bash
npm install @hono-analytics/sdk
# or
pnpm add @hono-analytics/sdk
# or
yarn add @hono-analytics/sdk
```

## Basic Setup

### Initialize Analytics

```javascript path=null start=null
import { initAnalytics } from '@hono-analytics/sdk'

const analytics = initAnalytics({
  apiKey: 'your-api-key',
  projectId: 'your-project-id',
  endpoint: 'https://analytics.example.com',
  debug: process.env.NODE_ENV === 'development'
})
```

### Configuration Options

```javascript path=null start=null
const analyticsConfig = {
  apiKey: 'your-api-key',          // Required: Your project API key
  projectId: 'your-project-id',    // Required: Project identifier
  endpoint: 'http://localhost:8000', // Optional: API endpoint
  ignoreAnalytics: false,          // Optional: Disable all tracking
  debug: false                     // Optional: Enable debug logging
}

const analytics = initAnalytics(analyticsConfig)
```

## Core API

### `initAnalytics(options)`

Initializes the analytics instance and returns it. This automatically:
- Tracks the initial pageview
- Starts session tracking
- Detects device and browser information

```javascript path=null start=null
const analytics = initAnalytics({
  apiKey: 'your-api-key',
  projectId: 'your-project-id'
})
```

### `track(data?)`

Track custom events or pageviews:

```javascript path=null start=null
import { track } from '@hono-analytics/sdk'

await track({
  url: '/button-clicked',
  durationMs: 1500
})

await track({ url: '/page-view' })

await track()
```

### `identify(userData)`

Identify the current user:

```javascript path=null start=null
import { identify } from '@hono-analytics/sdk'

identify({
  id: 'user-123',
  country: 'Netherlands',
  city: 'Amsterdam'
})
```

### `getSessionId()`

Get the current session ID:

```javascript path=null start=null
import { getSessionId } from '@hono-analytics/sdk'

const sessionId = getSessionId()
console.log('Current session:', sessionId)
```

### `getUserId()`

Get the current user ID:

```javascript path=null start=null
import { getUserId } from '@hono-analytics/sdk'

const userId = getUserId()
console.log('Current user:', userId || 'Anonymous')
```

### `destroy()`

Clean up the analytics instance:

```javascript path=null start=null
import { destroy } from '@hono-analytics/sdk'

window.addEventListener('beforeunload', () => {
  destroy()
})
```

## Framework Integration

### Vue.js Integration

Create a Vue plugin:

```javascript path=/src/plugins/analytics.js start=null
import { initAnalytics, track, identify } from '@hono-analytics/sdk'

const analytics = initAnalytics({
  apiKey: process.env.VUE_APP_ANALYTICS_API_KEY,
  projectId: process.env.VUE_APP_ANALYTICS_PROJECT_ID,
  endpoint: process.env.VUE_APP_ANALYTICS_ENDPOINT
})

export default {
  install(Vue) {
    Vue.prototype.$analytics = {
      track,
      identify,
      getSessionId,
      getUserId
    }
  }
}
```

Use in main.js:

```javascript path=/src/main.js start=null
import Vue from 'vue'
import App from './App.vue'
import analyticsPlugin from './plugins/analytics'

Vue.use(analyticsPlugin)

new Vue({
  render: h => h(App)
}).$mount('#app')
```

Use in components:

```javascript path=null start=null
export default {
  name: 'MyComponent',
  methods: {
    async handleClick() {
      await this.$analytics.track({
        url: '/button-click',
        durationMs: 500
      })
    },
    handleLogin(userId) {
      this.$analytics.identify({ id: userId })
    }
  }
}
```

### Svelte Integration

Create an analytics store:

```javascript path=/src/lib/analytics.js start=null
import { initAnalytics, track, identify, getSessionId, getUserId } from '@hono-analytics/sdk'
import { writable } from 'svelte/store'

const analytics = initAnalytics({
  apiKey: import.meta.env.VITE_ANALYTICS_API_KEY,
  projectId: import.meta.env.VITE_ANALYTICS_PROJECT_ID,
  endpoint: import.meta.env.VITE_ANALYTICS_ENDPOINT
})

function createAnalytics() {
  const { subscribe } = writable({
    sessionId: getSessionId(),
    userId: getUserId()
  })

  return {
    subscribe,
    track,
    identify: (userData) => {
      identify(userData)
    },
    getSessionId,
    getUserId
  }
}

export const analyticsStore = createAnalytics()
```

Use in Svelte components:

```svelte path=null start=null
<script>
  import { analyticsStore } from '$lib/analytics'
  
  async function handleClick() {
    await analyticsStore.track({
      url: '/button-click'
    })
  }
  
  function handleLogin(userId) {
    analyticsStore.identify({ id: userId })
  }
</script>

<button on:click={handleClick}>Track Click</button>
<button on:click={() => handleLogin('user-123')}>Login</button>
```

### Plain HTML/JavaScript

For websites without build tools:

```html path=/index.html start=null
<!DOCTYPE html>
<html>
<head>
  <title>My Website</title>
</head>
<body>
  <button id="track-btn">Track Click</button>
  <button id="login-btn">Login</button>

  <script type="module">
    import { initAnalytics, track, identify } from 'https://unpkg.com/@hono-analytics/sdk/dist/index.js'
    
    const analytics = initAnalytics({
      apiKey: 'your-api-key',
      projectId: 'your-project-id',
      endpoint: 'https://analytics.example.com'
    })
    
    document.getElementById('track-btn').addEventListener('click', async () => {
      await track({ url: '/button-clicked' })
    })
    
    document.getElementById('login-btn').addEventListener('click', () => {
      identify({ id: 'user-123', country: 'Germany' })
    })
  </script>
</body>
</html>
```

## Common Patterns

### Single Page Applications

Track route changes in SPAs:

```javascript path=null start=null
function trackPageView(url) {
  track({ url: url || window.location.pathname })
}

if (window.history && window.history.pushState) {
  const originalPushState = window.history.pushState
  window.history.pushState = function(state, title, url) {
    originalPushState.call(this, state, title, url)
    trackPageView(url)
  }
  
  window.addEventListener('popstate', () => {
    trackPageView()
  })
}
```

### User Authentication

```javascript path=null start=null
function handleUserLogin(userData) {
  identify({
    id: userData.id,
    country: userData.country,
    city: userData.city
  })
}

function handleUserLogout() {
  identify({})
}

async function checkAuthStatus() {
  const user = await getCurrentUser()
  if (user) {
    handleUserLogin(user)
  }
}

checkAuthStatus()
```

### Event Tracking

```javascript path=null start=null
function setupEventTracking() {
  document.addEventListener('click', async (event) => {
    if (event.target.matches('[data-track]')) {
      const eventName = event.target.getAttribute('data-track')
      await track({
        url: `/${eventName}`,
        durationMs: Date.now() - pageLoadTime
      })
    }
  })
  
  document.addEventListener('submit', async (event) => {
    const form = event.target
    if (form.matches('[data-track-form]')) {
      const formName = form.getAttribute('data-track-form')
      await track({
        url: `/form-submit/${formName}`
      })
    }
  })
}

setupEventTracking()
```

### Performance Tracking

```javascript path=null start=null
function trackPagePerformance() {
  window.addEventListener('load', () => {
    const perfData = performance.getEntriesByType('navigation')[0]
    track({
      url: '/page-performance',
      durationMs: perfData.loadEventEnd - perfData.loadEventStart
    })
  })
}

trackPagePerformance()
```

### Error Tracking

```javascript path=null start=null
window.addEventListener('error', async (event) => {
  await track({
    url: '/javascript-error',
    durationMs: 0
  })
})

window.addEventListener('unhandledrejection', async (event) => {
  await track({
    url: '/promise-rejection',
    durationMs: 0
  })
})
```

## Environment Configuration

### Development vs Production

```javascript path=null start=null
const isDevelopment = process.env.NODE_ENV === 'development'

const analytics = initAnalytics({
  apiKey: isDevelopment ? 'dev-api-key' : 'prod-api-key',
  projectId: 'your-project-id',
  endpoint: isDevelopment 
    ? 'http://localhost:8000' 
    : 'https://analytics.example.com',
  debug: isDevelopment
})
```

### Environment Variables

```bash path=/.env start=null
VITE_ANALYTICS_API_KEY=your-api-key
VITE_ANALYTICS_PROJECT_ID=your-project-id
VITE_ANALYTICS_ENDPOINT=https://analytics.example.com
```

## TypeScript Support

For TypeScript projects:

```typescript path=null start=null
import { 
  initAnalytics, 
  track, 
  identify,
  type TAnalyticsOptions,
  type TUserData,
  type TPageviewData
} from '@hono-analytics/sdk'

const config: TAnalyticsOptions = {
  apiKey: 'your-api-key',
  projectId: 'your-project-id',
  debug: process.env.NODE_ENV === 'development'
}

const analytics = initAnalytics(config)

const userData: TUserData = {
  id: 'user-123',
  country: 'Netherlands',
  device: 'desktop'
}

const pageviewData: TPageviewData = {
  url: '/custom-event',
  timestamp: new Date().toISOString(),
  durationMs: 2500
}

identify(userData)
await track(pageviewData)
```

## Best Practices

### Initialize Early

Initialize analytics as early as possible:

```javascript path=null start=null
document.addEventListener('DOMContentLoaded', () => {
  initAnalytics({
    apiKey: 'your-api-key',
    projectId: 'your-project-id'
  })
})
```

### Handle Offline/Online

```javascript path=null start=null
let isOnline = navigator.onLine

window.addEventListener('online', () => {
  isOnline = true
})

window.addEventListener('offline', () => {
  isOnline = false
})

async function trackWithRetry(data, retries = 3) {
  if (!isOnline && retries > 0) {
    setTimeout(() => trackWithRetry(data, retries - 1), 1000)
    return
  }
  
  try {
    await track(data)
  } catch (error) {
    if (retries > 0) {
      setTimeout(() => trackWithRetry(data, retries - 1), 1000)
    }
  }
}
```

## Next Steps

<Cards>
  <Card title="Examples" href="/docs/examples" description="Common usage patterns and code examples" />
  <Card title="React Integration" href="/docs/sdk/react" description="React-specific implementation" />
  <Card title="API Reference" href="/docs/api" description="Backend API documentation" />
  <Card title="Configuration" href="/docs/configuration" description="Environment variables and settings" />
</Cards>
